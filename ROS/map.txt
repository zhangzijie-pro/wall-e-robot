┌─────────────────────────────────────────────────────────────┐
│                      ROS2 系统（树莓派）                     │
├─────────────────────────────────────────────────────────────┤
│ 摄像头节点（Python，cv_bridge）                              │
│   └─> 图像流 ──> 人脸识别节点（Python + dlib/face_recog）     │
│                                                             │ 
│ 音频接收节点（Python + socket）                              │
│   └─> 音频流 ──> 声纹识别节点（Python）                       │
│                        └─> 人物身份确认                      │
│   └─> 音频流 ──> Vosk STT 节点（C++，提高性能）               │
│                        └─> 文本                             │
│                                                             │
│ LangChain + LangGraph 节点（Python + 多线程 + 缓存）         │
│   └─> 接收文本 + 视觉信息                                    │
│       └─> 语义分析                                          │
│           └─> 子任务拆解（如 browse/use/ask 等）             │
│               └─> 任务规划器（Task Planner）                 │
│                   └─> 任务执行器（Executor）                 │
│                       └─> 任务缓存 & 记忆模块（历史记录）     │
│                           └─> 长时间无人交互时启发式场景判断器│
│                                                            │
│ 知识学习与自训练模块（LangGraph 节点，定时检索+精调反馈）      │
│   └─> 使用 Milvus / FAISS 存储历史上下文向量                 │
│   └─> 可扩展的 LLM 微调接口（如 LoRA / Prompt 学习）         │
│                                                            │
│ 动作控制指令节点（C++，用于实时性）                           │
│   └─> TCP ──> ESP32 控制舵机、底盘等运动执行                 │
│                                                            │
│ 音频合成 ChatTTS 节点（Python + 并行 I/O）                   │
│   └─> 音频流 ──> 发送至 ESP32 播放                           │
└────────────────────────────────────────────────────────────┘
